<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:10pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="N10097"></a><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">К</span><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">раткий обзор</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Из этой статьи вы узнаете, как управлять доступом к файлам и директориям с помощью прав владения и разрешений. Вы научитесь:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'arial,sans-serif'; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Управлять правами доступа к обычным и к специальным файлам, а также к директориям.</li>
<li style=" font-family:'arial,sans-serif'; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Обеспечивать защиту, используя режимы доступа suid, sgid и бит закрепления в памяти sticky bit.</li>
<li style=" font-family:'arial,sans-serif'; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Изменять маску создания файлов.</li>
<li style=" font-family:'arial,sans-serif'; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Предоставлять доступ к файлам членам групп.</li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Все примеры этой статьи (если это не оговаривается отдельно) выполнены в операционной системе Fedora 13 с версией ядра 2.6.34. Результаты, полученные в других операционных системах, могут отличаться.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Эта статья поможет вам подготовиться к сдаче экзамена LPI 101 на администратора начального уровня (LPIC-1) и содержит материалы цели 104.5 темы 104. Цель имеет вес 3.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Некоторые принципы управления разрешениями и правами владения файлами изложены в статье &quot;</span><a href="http://www.ibm.com/developerworks/ru/library/l-lpic1-v3-104-4/"><span style=" font-family:'arial,sans-serif'; text-decoration: underline; color:#4c6e94;">Изучаем Linux 101: управление дисковыми квотами</span></a><span style=" font-family:'arial,sans-serif'; color:#000000;">&quot;. Текущая статья поможет лучше понять их.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="N100BB"></a><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">Н</span><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">еобходимые условия</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Чтобы извлечь наибольшую пользу из наших статей, необходимо обладать базовыми знаниями о Linux и иметь работоспособный компьютер с Linux, на котором можно будет выполнять все встречающиеся команды. Иногда различные версии программ выводят результаты по-разному, поэтому содержимое листингов и рисунков может отличаться от того, что вы увидите на вашем компьютере.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><a href="http://www.ibm.com/developerworks/ru/library/l-lpic1-v3-104-5/index.html?ca=drs-#ibm-pcon"><span style=" font-family:'arial,sans-serif'; font-weight:600; text-decoration: underline; color:#4c6e94;">В начало</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="6-usrgrp"></a><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">П</span><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">ользователи и группы</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Вам уже известно о том, что Linux – это многопользовательская система и каждый пользователь является членом одной</span><span style=" font-family:'arial,sans-serif'; font-style:italic; color:#000000;">основной</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> группы и, возможно, одной или нескольких дополнительных групп. Кроме того, можно войти в систему под одной учетной записью обычного пользователя и стать суперпользователем, выполнив команду </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">su</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> или </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">sudo -s</span><span style=" font-family:'arial,sans-serif'; color:#000000;">. Принадлежность файлов в Linux, а также права доступа к ним тесно связаны с идентификаторами пользователей и групп, поэтому ниже я приведу основные сведения о пользователях и группах.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="N100E6"></a><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">К</span><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">то я такой?</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Если вы не сменили ваш идентификатор пользователя, то он остается тем же, что и при входе в систему. Если вы стали другим пользователем, идентификатор пользователя может отображаться в приглашении, как в большинстве примеров этой статьи. Если идентификатор пользователя не отображается в приглашении, то текущий идентификатор можно узнать с помощью команды</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">whoami</span><span style=" font-family:'arial,sans-serif'; color:#000000;">. В листинге 1 приведено несколько примеров, в которых приглашения командной строки (из переменной окружения PS1) отличаются от приглашений в остальных примерах этой статьи. Если идентификатор пользователя отображается в приглашении командной строки, то это может быть удобно.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="listing1"></a><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">Л</span><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">истинг 1. Определение идентификатора текущего пользователя</span><span style=" font-family:'Times New Roman'; font-size:medium; color:#000000; background-color:#ffffff;"> </span></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" width="100%" cellspacing="0" cellpadding="0" bgcolor="#ffffff">
<tr>
<td bgcolor="#f7f7f7" style=" padding-left:2; padding-right:2; padding-top:2; padding-bottom:5;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000; background-color:#f7f7f7;">                    </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000; background-color:#f7f7f7;">/home/ian$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">whoami</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">tom</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">/home/ian$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">exit</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">exit</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">whoami</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">ian</span></p></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="N10105"></a><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">В</span><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;"> какие группы я включен?</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Аналогичным образом можно узнать, в какие группы вы включены, выполнив команду</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">groups</span><span style=" font-family:'arial,sans-serif'; color:#000000;">. Команда </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">id</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> выводит информацию как о пользователях, так и о группах. Если к командам </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">groups</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> и </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">id</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> добавить в качестве параметра идентификатор пользователя, то вы получите информацию о пользователе с этим идентификатором, а не о текущем пользователе. В листинге 2 приведено несколько примеров. Обратите внимание на то, что если для команды </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">id</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> не указывать идентификатор пользователя, то помимо основной информации также выводится информация о контексте SELinux.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="listing2"></a><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">Л</span><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">истинг 2. Определение членства в группах.</span><span style=" font-family:'Times New Roman'; font-size:medium; color:#000000; background-color:#ffffff;"> </span></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" width="100%" cellspacing="0" cellpadding="0" bgcolor="#ffffff">
<tr>
<td bgcolor="#f7f7f7" style=" padding-left:2; padding-right:2; padding-top:2; padding-bottom:5;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000; background-color:#f7f7f7;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">id</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">uid=1000(ian) gid=1000(ian) groups=1000(ian),505(development),8093(editor)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">context=unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">id ian</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">uid=1000(ian) gid=1000(ian) groups=1000(ian),8093(editor),505(development)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">groups</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">ian development editor</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">id tom</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">uid=1012(tom) gid=1012(tom) groups=1012(tom),505(development)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">groups tom</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">tom : tom development</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">su tom</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">Password: </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[tom@echidna ian]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">groups</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">tom development</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[tom@echidna ian]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">groups ian</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">ian : ian editor development</span></p></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><a href="http://www.ibm.com/developerworks/ru/library/l-lpic1-v3-104-5/index.html?ca=drs-#ibm-pcon"><span style=" font-family:'arial,sans-serif'; font-weight:600; text-decoration: underline; color:#4c6e94;">В начало</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="6-perm"></a><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">П</span><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">ринадлежность файлов и права доступа к ним</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Каждый пользователь имеет свой идентификатор и является членом одной основной группы, а каждый файл в Linux имеет одного владельца и одну группу, связанные с ним.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="N1014A"></a><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">О</span><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">бычные файлы</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Чтобы определить пользователя и группу, которым принадлежит файл, используйте команду</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">ls -l</span><span style=" font-family:'arial,sans-serif'; color:#000000;">.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="listing3"></a><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">Л</span><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">истинг 3. Определение владельца файла</span><span style=" font-family:'Times New Roman'; font-size:medium; color:#000000; background-color:#ffffff;"> </span></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" width="100%" cellspacing="0" cellpadding="0" bgcolor="#ffffff">
<tr>
<td bgcolor="#f7f7f7" style=" padding-left:2; padding-right:2; padding-top:2; padding-bottom:5;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000; background-color:#f7f7f7;">                    </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000; background-color:#f7f7f7;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">ls -l /bin/bash .bashrc helloworld.C </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">-rw-r--r--. 1 ian  ian            124 Mar 31  2010 .bashrc</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">-rwxr-xr-x. 1 root root        943360 May 21  2010 /bin/bash</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">-rw-rw-r--. 1 ian  development    116 Nov 30 10:21 helloworld.C</span></p></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">В этом примере владельцем файла .bashrc является пользователь ian, и этот файл принадлежит группе ian, которая является основной группой этого пользователя. Аналогично, владельцем файла /bin/bash является пользователь root, и файл принадлежит группе root. Однако владельцем файла helloworld.C является пользователь ian, но этот файл принадлежит группе development. Имена групп и пользователей принадлежат различным пространствам имен, поэтому указанное имя может являться как именем пользователя, так и именем группы. В действительности многие дистрибутивы по умолчанию создают для каждого нового пользователя назначаемую ему группу с таким же названием.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">В модели безопасности Linux для каждого объекта файловой системы существует три типа разрешений: чтение (r), запись (w) и выполнение (x). Разрешение на запись также позволяет изменять или удалять объект. Кроме того, эти разрешения указываются отдельно для владельца файла, членов группы файла и для всех остальных.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Обратите внимание на то, что в столбце листинга 3 содержится строка из 11 символов. Одиннадцатый символ был введен не так давно, и я расскажу о нем чуть позже. Первый символ указывает на тип объекта (в этом примере символ &quot;-&quot; означает обычный файл), а остальные девять символов образуют три группы по три символа в каждой. Первая группа содержит разрешения на чтение, запись и выполнение для владельца файла. Символ &quot;-&quot; означает, что соответствующее разрешение не предоставлено. Таким образом, пользователь ian может читать и записывать в файл .bashrc, но не выполнять его, тогда как пользователь root может читать, записывать</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> </span><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">и</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> выполнять файл /bin/bash. Вторая группа содержит разрешения на чтение, запись и выполнение для группы файла. Члены группы development могут читать и записывать в файл helloworld.C (который принадлежит пользователю ian), а все остальные могут только читать его. Аналогично, члены группы root и все остальные могут читать или выполнять файл /bin/bash.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="N1016F"></a><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">Д</span><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">иректории</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Для директорий используются те же самые флаги разрешений, что и для обычных файлов, но интерпретируются они по-другому. Пользователи, имеющие разрешение на чтение директории, могут просматривать ее содержимое. Пользователи, имеющие разрешение на запись в директорию, могут создавать и удалять из нее файлы. Пользователи, имеющие разрешение на выполнение, могут входить в эту директорию и во все ее поддиректории. При отсутствии разрешений на выполнение объекты файловой системы, находящиеся в директории, недоступны. При отсутствии разрешений на чтение объекты файловой системы, находящиеся внутри директории, недоступны для просмотра при выводе содержимого директории, но к ним можно получить доступ, зная полный путь. Это демонстрирует пример, приведенный в листинге 4 .</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="listing4"></a><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">Л</span><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">истинг 4. Разрешения и директории</span><span style=" font-family:'Times New Roman'; font-size:medium; color:#000000; background-color:#ffffff;"> </span></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" width="100%" cellspacing="0" cellpadding="0" bgcolor="#ffffff">
<tr>
<td bgcolor="#f7f7f7" style=" padding-left:2; padding-right:2; padding-top:2; padding-bottom:5;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000; background-color:#f7f7f7;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">ls -l /home</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">total 32</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">drwxr-x---. 38 editor   editor      12288 Nov 30 10:49 editor</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">drwxr-x---.  4 greg     development  4096 Nov 30 12:44 greg</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">drwx------. 21 gretchen gretchen     4096 Nov 30 11:26 gretchen</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">drwxr-xr-x. 41 ian      ian          4096 Nov 30 10:51 ian</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">drwx------. 21 ianadmin ianadmin     4096 May 28  2010 ianadmin</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">d-wx--x--x. 21 tom      tom          4096 Nov 30 11:30 tom</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">ls -a ~greg/.ba*</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">/home/greg/.bash_history  /home/greg/.bash_profile</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">/home/greg/.bash_logout   /home/greg/.bashrc</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">ls -a ~gretchen</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">ls: cannot open directory /home/gretchen: Permission denied</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">ls -a ~tom</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">ls: cannot open directory /home/tom: Permission denied</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">head -n 3 ~tom/.bashrc</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;"># .bashrc</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000; background-color:#f7f7f7;"></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;"># Source global definitions</span></p></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Первый символ в подробном выводе содержимого директории описывает тип объекта (</span><span style=" font-family:'monospace'; font-size:small; color:#000000;">d</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> означает директорию). Пользователям группы development предоставлены разрешения на чтение и выполнение домашней директории пользователя greg, поэтому пользователи tom и ian могут просматривать ее содержимое. Пользователи группы gretchen и все остальные пользователи не имеют разрешений на чтение или выполнение домашней директории gretchen, поэтому пользователь ian не может получить доступ к ней. Для домашней директории пользователя tom предоставлены разрешения на выполнение, но не на чтение, поэтому пользователь ian не может просмотреть ее содержимое, но может получить доступ к объектам внутри этой директории, точно зная о том, что они существуют.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="N10196"></a><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">Д</span><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">ругие объекты файловой системы</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Вывод команды</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">ls -l</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> может содержать объекты файловой системы, отличные от файлов и директорий, что можно определить по первому символу листинга. Более подробно я расскажу них чуть позже, а пока просто познакомьтесь со всеми возможными типами объектов.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="table1"></a><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">Т</span><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">аблица 1. Типы объектов файловой системы</span><span style=" font-family:'Times New Roman'; font-size:medium; color:#000000; background-color:#ffffff;"> </span></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="0" cellpadding="0" bgcolor="#ffffff">
<tr>
<td background="http://1.www.s81c.com/i/v16/t/text-tabs-bg.gif" style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000;">Код</span></p></td>
<td background="http://1.www.s81c.com/i/v16/t/text-tabs-bg.gif" style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000;">Тип объекта</span></p></td></tr>
<tr>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; font-size:medium; color:#000000;">-</span></p></td>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; font-size:medium; color:#000000;">Обычный файл</span></p></td></tr>
<tr>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; font-size:medium; color:#000000;">d</span></p></td>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; font-size:medium; color:#000000;">Директория</span></p></td></tr>
<tr>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; font-size:medium; color:#000000;">l</span></p></td>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; font-size:medium; color:#000000;">Символическая ссылка</span></p></td></tr>
<tr>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; font-size:medium; color:#000000;">c</span></p></td>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; font-size:medium; color:#000000;">Специальное символьное устройство</span></p></td></tr>
<tr>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; font-size:medium; color:#000000;">b</span></p></td>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; font-size:medium; color:#000000;">Специальное блочное устройство</span></p></td></tr>
<tr>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; font-size:medium; color:#000000;">p</span></p></td>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; font-size:medium; color:#000000;">Буфер FIFO</span></p></td></tr>
<tr>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; font-size:medium; color:#000000;">s</span></p></td>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; font-size:medium; color:#000000;">Сокет</span></p></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="N10202"></a><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">О</span><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">диннадцатый символ</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Одиннадцатый символ в выводе команды</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">ls</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> является нововведением, поэтому в некоторых дистрибутивах он пока не применяется. В других случаях одиннадцатым символом может быть пробел, поэтому вы можете не заметить его. Этот символ указывает на использование альтернативного метода доступа к файлу. Если символ, следующий за битами режима файла, является пробелом, альтернативный метод доступа не используется. Если же этот символ является печатным знаком, то используется альтернативный метод доступа. Таким методом может являться, например, список контроля доступов. Символ '.' (точка) команды GNU </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">ls</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> означает, что для файла используется только контекст безопасности SELinux. Файлы, для которых используются любые другие комбинации альтернативных методов доступа, отмечены знаком '+' (плюс).</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><a href="http://www.ibm.com/developerworks/ru/library/l-lpic1-v3-104-5/index.html?ca=drs-#ibm-pcon"><span style=" font-family:'arial,sans-serif'; font-weight:600; text-decoration: underline; color:#4c6e94;">В начало</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="N10212"></a><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">И</span><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">зменений разрешений</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="N10217"></a><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">Д</span><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">обавление разрешений</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Предположим, вы создали сценарий командной оболочки &quot;Hello world&quot;. Как правило, вновь создаваемые сценарии не являются исполняемыми. Чтобы добавить для сценария разрешение на выполнение, используйте команду</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">chmod</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> с опцией </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">+x</span><span style=" font-family:'arial,sans-serif'; color:#000000;">, как показано в листинге 5.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="listing5"></a><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">Л</span><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">истинг 5. Создание исполняемого сценария командной оболочки</span><span style=" font-family:'Times New Roman'; font-size:medium; color:#000000; background-color:#ffffff;"> </span></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" width="100%" cellspacing="0" cellpadding="0" bgcolor="#ffffff">
<tr>
<td bgcolor="#f7f7f7" style=" padding-left:2; padding-right:2; padding-top:2; padding-bottom:5;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000; background-color:#f7f7f7;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">echo 'echo &quot;Hello world!&quot;'&gt;hello.sh</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">ls -l hello.sh</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">-rw-rw-r--. 1 ian ian 20 Nov 30 13:05 hello.sh</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">./hello.sh</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">bash: ./hello.sh: Permission denied</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">chmod +x hello.sh</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">./hello.sh</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">Hello world!</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">ls -l hello.sh</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">-rwxrwxr-x. 1 ian ian 20 Nov 30 13:05 hello.sh</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">            </span></p></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Подобным образом можно использовать опцию</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">+r</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> для установки разрешений на чтение и опцию </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">+w</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> – для установки разрешений на запись. Фактически, можно использовать любые комбинации опций </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">r</span><span style=" font-family:'arial,sans-serif'; color:#000000;">, </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">w</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> и </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">x</span><span style=" font-family:'arial,sans-serif'; color:#000000;">. Например, команда </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">chmod +rwx</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> устанавливает для файла разрешения на чтение, запись и выполнение. Запуск </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">chmod</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> в такой форме добавляет разрешения, которые еще не были установлены.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="N10263"></a><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">В</span><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">ыборочное изменение</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Вы могли заметить, что в последнем примере разрешение на выполнение было установлено для владельца, группы</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> </span><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">и</span><span style=" font-family:'arial,sans-serif'; color:#000000;">всех остальных. Для выборочной установки разрешений можно использовать префиксы </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">u</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> (установка разрешений для пользователей), </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">g</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> (установка разрешений для групп) и </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">o</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> (установка разрешений для всех остальных). Префикс </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">a</span><span style=" font-family:'arial,sans-serif'; color:#000000;">устанавливает разрешения для всех пользователей (что эквивалентно отсутствию какого-либо префикса вообще). В листинге 6 показано, как добавить разрешения на запись и выполнение пользователю и группе другой копии файла сценария.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="listing6"></a><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">Л</span><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">истинг 6. Выборочное добавление разрешений</span><span style=" font-family:'Times New Roman'; font-size:medium; color:#000000; background-color:#ffffff;"> </span></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" width="100%" cellspacing="0" cellpadding="0" bgcolor="#ffffff">
<tr>
<td bgcolor="#f7f7f7" style=" padding-left:2; padding-right:2; padding-top:2; padding-bottom:5;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000; background-color:#f7f7f7;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">echo 'echo &quot;Hello world!&quot;'&gt;hello2.sh</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">chmod ug+xw hello2.sh</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">ls -l hello2.sh</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">-rwxrwxr--. 1 ian ian 20 Nov 30 13:08 hello2.sh</span></p></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="N10290"></a><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">У</span><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">даление разрешений</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Иногда требуется не добавить разрешения, а удалить их. Для этого просто замените</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">+</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> на </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">-</span><span style=" font-family:'arial,sans-serif'; color:#000000;">, и все указанные разрешения будут удалены. В листинге 7 показано, как удалить все разрешения для других пользователей с двух файлов сценариев командной оболочки.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="listing7"></a><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">Л</span><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">истинг 7. Удаление разрешений</span><span style=" font-family:'Times New Roman'; font-size:medium; color:#000000; background-color:#ffffff;"> </span></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" width="100%" cellspacing="0" cellpadding="0" bgcolor="#ffffff">
<tr>
<td bgcolor="#f7f7f7" style=" padding-left:2; padding-right:2; padding-top:2; padding-bottom:5;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000; background-color:#f7f7f7;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">ls -l hello*.sh</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">-rwxrwxr--. 1 ian ian 20 Nov 30 13:08 hello2.sh</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">-rwxrwxr-x. 1 ian ian 20 Nov 30 13:05 hello.sh</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">chmod o-xrw hello*.sh</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">ls -l hello*.sh</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">-rwxrwx---. 1 ian ian 20 Nov 30 13:08 hello2.sh</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">-rwxrwx---. 1 ian ian 20 Nov 30 13:05 hello.sh</span></p></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Заметьте, что можно изменять разрешения сразу для нескольких файлов. Как и для других команд, с которыми вы познакомились в руководствах по теме 103, для выполнения рекурсивных действий с файлами и директориями вы даже можете использовать опцию</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">-R</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> (или </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">--recursive</span><span style=" font-family:'arial,sans-serif'; color:#000000;">).</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="N102BD"></a><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">У</span><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">становка разрешений</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Теперь, когда вы умеете добавлять и удалять разрешения, пора объяснить, как можно установить только определенный набор разрешений. Для этого вместо знаков</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">+</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> или </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">–</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> используется знак </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">=</span><span style=" font-family:'arial,sans-serif'; color:#000000;">. Чтобы запретить другим пользователям получать доступ к двум файлам сценариев из последних примеров, вместо команды для удаления разрешений можно использовать команду </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">chmod o= hello*</span><span style=" font-family:'arial,sans-serif'; color:#000000;">.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Если вы хотите установить различные разрешения для пользователя, группы и всех остальных, вы можете разделить различные выражения запятыми, например,</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">ug=rwx,o=rx</span><span style=" font-family:'arial,sans-serif'; color:#000000;">; можно также указывать разрешения в числовом формате, как это будет описано далее.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="N102DC"></a><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">П</span><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">редставление разрешений в восьмеричном формате</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">До сих пор для установки разрешений мы использовали символы (ugoa и rxw). В каждой группе существует три типа разрешений. Вместо символов для установки разрешений можно использовать восьмеричные числа. При таком способе установки разрешений может потребоваться использовать до четырех восьмеричных чисел. Первое число мы будем рассматривать при обсуждении атрибутов. Второе число определяет разрешения для пользователя, третье число –разрешения для группы и, наконец, четвертое число определяет разрешения для всех остальных. Каждое из этих трех чисел формируется путем сложения необходимых разрешений: чтение (4), запись (2) и выполнение (1). В примере, приведенном в листинге 5, сценарий hello.sh был создан с разрешениями -rw-r--r--, что соответствует значению 644 в восьмеричной форме. Установка разрешений на выполнение для всех пользователей и групп без исключения изменит это значение на 755.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Использование числового формата очень удобно тогда, когда вы хотите установить все разрешения сразу, не указывая их для каждой группы. В таблице 2 перечислены все возможные разрешения в числовом формате.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="table2"></a><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">Т</span><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">аблица 2. Numeric permissions</span><span style=" font-family:'Times New Roman'; font-size:medium; color:#000000; background-color:#ffffff;"> </span></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" width="40%" cellspacing="0" cellpadding="0" bgcolor="#ffffff">
<tr>
<td background="http://1.www.s81c.com/i/v16/t/text-tabs-bg.gif" style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000;">Символическое представление</span></p></td>
<td background="http://1.www.s81c.com/i/v16/t/text-tabs-bg.gif" style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000;">Восьмеричное значение</span></p></td></tr>
<tr>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:small; color:#000000;">rwx</span></p></td>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:small; color:#000000;">7</span></p></td></tr>
<tr>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:small; color:#000000;">rw-</span></p></td>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:small; color:#000000;">6</span></p></td></tr>
<tr>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:small; color:#000000;">r-x</span></p></td>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:small; color:#000000;">5</span></p></td></tr>
<tr>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:small; color:#000000;">r--</span></p></td>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:small; color:#000000;">4</span></p></td></tr>
<tr>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:small; color:#000000;">-wx</span></p></td>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:small; color:#000000;">3</span></p></td></tr>
<tr>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:small; color:#000000;">-w-</span></p></td>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:small; color:#000000;">2</span></p></td></tr>
<tr>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:small; color:#000000;">--x</span></p></td>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:small; color:#000000;">1</span></p></td></tr>
<tr>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:small; color:#000000;">---</span></p></td>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:small; color:#000000;">0</span></p></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><a href="http://www.ibm.com/developerworks/ru/library/l-lpic1-v3-104-5/index.html?ca=drs-#ibm-pcon"><span style=" font-family:'arial,sans-serif'; font-weight:600; text-decoration: underline; color:#4c6e94;">В начало</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="modes"></a><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">Р</span><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">ежимы доступа</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Когда вы входите в систему, запускается новый процесс командного интерпретатора, использующий ваши идентификаторы пользователя и группы. Эти идентификаторы управляют вашим доступом ко всем файлам системы. Обычно это означает, что вы не можете получить доступ к чужим, а также к системным файлам. На самом деле мы, будучи пользователями, всецело зависим от других программ, выполняющих различные действия от нашего имени. Поскольку запускаемые вами программы наследуют</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> </span><span style=" font-family:'arial,sans-serif'; font-style:italic; color:#000000;">ваш</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> идентификатор, они не могут получить доступ к объектам файловой системы, доступ к которым не был вам предоставлен.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Важным примером является файл /etc/passwd, который не может быть напрямую изменен обычными пользователями, поскольку разрешение на запись в этот файл имеет только пользователь root; тем не менее, обычные пользователи должны иметь возможность так или иначе изменять файл /etc/passwd, когда им требуется сменить свой пароль. Итак, если пользователь не может изменять этот файл, то как это сделать?</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="N10398"></a><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">Р</span><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">ежимы доступа suid и sgid</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">В модели разрешений Linux имеется два специальных режима доступа, которые называются suid (set user id – установить идентификатор пользователя) и sgid (set group id – установить идентификатор группы). Когда для исполняемой программы установлен режим доступа suid, она запускается с правами владельца файла, а не с правами пользователя, фактически запустившего ее. Аналогично, если для программы установлен режим доступа sgid, она запускается с правами пользователя, являющегося членом группы файла, а с правами группы запустившего ее пользователя. Эти режимы можно устанавливать как по отдельности, так и вместе.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">В листинге 8 показано, что владельцем исполняемого файла</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">passwd</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> является пользователь root.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="listing8"></a><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">Л</span><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">истинг 8. Режим доступа suid к файлу /usr/bin/passwd</span><span style=" font-family:'Times New Roman'; font-size:medium; color:#000000; background-color:#ffffff;"> </span></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" width="100%" cellspacing="0" cellpadding="0" bgcolor="#ffffff">
<tr>
<td bgcolor="#f7f7f7" style=" padding-left:2; padding-right:2; padding-top:2; padding-bottom:5;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000; background-color:#f7f7f7;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">ls -l /usr/bin/passwd</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">-rwsr-xr-x. 1 root root 34368 Apr  6  2010 /usr/bin/passwd</span></p></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Обратите внимание на то, что вместо символа</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">x</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> в группе разрешений пользователя стоит символ </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">s</span><span style=" font-family:'arial,sans-serif'; color:#000000;">, означающий, что для этой конкретной программы установлен быт suid и бит выполнения. Поэтому программа </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">passwd</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> запускается так, как если бы ее запустил пользователь root с полными правами суперпользователя, а не с правами того пользователя, который фактически запустил ее. И поскольку программа </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">passwd</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> выполняется с правами доступа пользователя </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">root</span><span style=" font-family:'arial,sans-serif'; color:#000000;">, она может изменять файл /etc/passwd.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">В подробном выводе содержимого директории биты suid и sgid находятся на месте бита</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">x</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> для пользователя и группы. Если файл является исполняемым, биты suid и sgid (если они установлены) отображаются как </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">s</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> (символ в нижнем регистре), в противном случае – как </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">S</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> (в верхнем регистре).</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Несмотря на то, что режимы доступа suid и sgid удобны, и во многих ситуациях даже необходимы, неправильное использование этих режимов может привести к появлению брешей в защите системы. По возможности следует использовать как можно меньше программ с режимом доступа suid. Команда</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">passwd</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> – это одна из немногих команд, для которой </span><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">необходимо</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> использовать режим suid.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="N103E3"></a><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">У</span><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">становка битов suid и sgid</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Биты suid и sgid устанавливаются и снимаются с использованием символа</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">s</span><span style=" font-family:'arial,sans-serif'; color:#000000;">; например, </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">u+s</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> устанавливает режим доступа suid, а </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">g-s</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> снимает режим sgid. В восьмеричном формате режиму suid соответствует значение 4 в первой цифре (старший разряд), а режиму sgid – значение 2.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="6-sgid-dir"></a><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">Д</span><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">иректории и режим доступа sgid</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Когда для директории установлен режим sgid, все созданные в ней файлы и поддиректории будут наследовать идентификатор группы этой директории. Это чрезвычайно полезно для деревьев каталогов, которые используются группой пользователей, работающих над одним проектом. В листинге 9 показано, как пользователь greg может настроить директорию так, чтобы все пользователи группы development могли использовать ее, а также приведен пример того, как пользователь gretchen может создать файл в директории. После создания файла gretchen.txt все члены группы смогут изменять его, поэтому с помощью команды</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">chmod g-w</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> gretchen убирает права на запись в этот файл для группы.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="listing9"></a><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">Л</span><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">истинг 9. Режим доступа sgid и директории</span><span style=" font-family:'Times New Roman'; font-size:medium; color:#000000; background-color:#ffffff;"> </span></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" width="100%" cellspacing="0" cellpadding="0" bgcolor="#ffffff">
<tr>
<td bgcolor="#f7f7f7" style=" padding-left:2; padding-right:2; padding-top:2; padding-bottom:5;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000; background-color:#f7f7f7;">                    </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000; background-color:#f7f7f7;">[greg@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">mkdir lpi101</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[greg@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">chmod g+ws lpi101</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[greg@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">ls -ld lpi101</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">drwxrwsr-x. 2 greg development 4096 Nov 30 13:30 lpi101/</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[greg@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">su - gretchen</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">Password: </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[gretchen@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">touch ~greg/lpi101/gretchen.txt</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[gretchen@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">ls -l ~greg/lpi101/gretchen.txt</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">-rw-rw-r--. 1 gretchen development 0 Nov 30 14:12 /home/greg/lpi101/gretchen.txt</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[gretchen@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">chmod g-w ~greg/lpi101/gretchen.txt</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[gretchen@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">ls -l ~greg/lpi101/gretchen.txt</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">-rw-r--r--. 1 gretchen development 0 Nov 30 14:12 /home/greg/lpi101/gretchen.txt</span></p></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Теперь любой член группы development может создавать файлы в директории lpi101 пользователя greg. Как видно из листинга 10, другие члены группы не могут изменять файл gretchen.txt. Тем не менее, они имеют разрешение на запись в директорию и поэтому могут удалить этот файл.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="listing10"></a><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">Л</span><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">истинг 10. Режим доступа sgid и владение файлом</span><span style=" font-family:'Times New Roman'; font-size:medium; color:#000000; background-color:#ffffff;"> </span></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" width="100%" cellspacing="0" cellpadding="0" bgcolor="#ffffff">
<tr>
<td bgcolor="#f7f7f7" style=" padding-left:2; padding-right:2; padding-top:2; padding-bottom:5;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000; background-color:#f7f7f7;">                    </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000; background-color:#f7f7f7;">[gretchen@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">su - tom</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">Password: </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[tom@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">echo &quot;something&quot; &gt;&gt; ~greg/lpi101/gretchen.txt</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">-bash: /home/greg/lpi101/gretchen.txt: Permission denied</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[tom@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">rm ~greg/lpi101/gretchen.txt</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">rm: remove write-protected regular empty file `/home/greg/lpi101/gretchen.txt'? </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">y</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[tom@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">ls -l ~greg/lpi101/</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">total 0</span></p></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="N10441"></a><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">Б</span><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">ит закрепления в памяти</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Вы только что увидели, как любой пользователь, имеющий разрешения на запись в директорию, может удалять находящиеся в ней файлы. Это может быть приемлемо для проекта рабочей группы, но не желательно для файлового пространства, находящемся в глобальном общем доступе, например, для директории /tmp. К счастью, существует решение этой проблемы.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Существует еще один, последний бит режима доступа, который называется битом</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> </span><span style=" font-family:'arial,sans-serif'; font-style:italic; color:#000000;">закрепления в памяти</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> (sticky bit). В символьном виде он обозначается символом </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">t</span><span style=" font-family:'arial,sans-serif'; color:#000000;">, а в числовом виде – значением 1 в восьмеричной цифре старшего разряда. В подробном выводе содержимого директории бит закрепления в памяти находятся на месте бита выполнения для всех остальных пользователей (последний символ); значение верхнего и нижнего регистра аналогично значениям для suid и sgid. Если бит закрепления в памяти установлен для директории, то удалять файлы или ссылки, находящиеся в этой директории, может только владелец или суперпользователь (root). В листинге 11 показано, как пользователь greg может установить бит закрепления в памяти для своей директории lpi101, а также то, что этот бит установлен для директории /tmp.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="listing11"></a><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">Л</span><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">истинг 11. Каталоги с закреплением в памяти</span><span style=" font-family:'Times New Roman'; font-size:medium; color:#000000; background-color:#ffffff;"> </span></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" width="100%" cellspacing="0" cellpadding="0" bgcolor="#ffffff">
<tr>
<td bgcolor="#f7f7f7" style=" padding-left:2; padding-right:2; padding-top:2; padding-bottom:5;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000; background-color:#f7f7f7;">[greg@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">chmod +t lpi101</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[greg@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">ls -ld lpi101 /tmp</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">drwxrwsr-t.  2 greg development  4096 Nov 30 14:16 lpi101</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">drwxrwxrwt. 24 root root        12288 Nov 30 14:22 /tmp</span></p></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Исторически в системах UNIX ® бит закрепления в памяти устанавливался для файлов и означал, что исполняемые файлы следует хранить в пространстве подкачки, чтобы исключить их повторную загрузку. В современных ядрах Linux бит закрепления в памяти, установленный для файлов, игнорируется.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="N10467"></a><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">С</span><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">водка режимов доступа</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">В таблице 3 приведены символьное и восьмеричное представления для всех трех режимов доступа, о которых мы говорили.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="table3"></a><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">Т</span><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">аблица 3. Режимы доступа</span><span style=" font-family:'Times New Roman'; font-size:medium; color:#000000; background-color:#ffffff;"> </span></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" width="40%" cellspacing="0" cellpadding="0" bgcolor="#ffffff">
<tr>
<td background="http://1.www.s81c.com/i/v16/t/text-tabs-bg.gif" style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000;">Режим доступа</span></p></td>
<td background="http://1.www.s81c.com/i/v16/t/text-tabs-bg.gif" style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000;">Символическое представление</span></p></td>
<td background="http://1.www.s81c.com/i/v16/t/text-tabs-bg.gif" style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000;">Восьмеричное значение</span></p></td></tr>
<tr>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; font-size:medium; color:#000000;">suid</span></p></td>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:small; color:#000000;">s</span><span style=" font-family:'arial,sans-serif'; font-size:medium; color:#000000;"> with </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">u</span></p></td>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:small; color:#000000;">4000</span></p></td></tr>
<tr>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; font-size:medium; color:#000000;">sgid</span></p></td>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:small; color:#000000;">s</span><span style=" font-family:'arial,sans-serif'; font-size:medium; color:#000000;"> with </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">g</span></p></td>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:small; color:#000000;">2000</span></p></td></tr>
<tr>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'arial,sans-serif'; font-size:medium; color:#000000;">sticky</span></p></td>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:small; color:#000000;">t</span></p></td>
<td style=" vertical-align:top; padding-left:5; padding-right:5; padding-top:8; padding-bottom:8;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace'; font-size:small; color:#000000;">1000</span></p></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Сопоставив эту таблицу с той информацией о разрешениях, которая уже вам известна, можно увидеть, что полное восьмеричное представление разрешений и режимов доступа к папке lpi101 пользователя greg (drwxrwsr-t) – это число 3775. Команда</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">ls</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> не отображает разрешения в восьмеричном формате, но это можно сделать с помощью команды</span><span style=" font-family:'monospace'; font-size:small; color:#000000;">find</span><span style=" font-family:'arial,sans-serif'; color:#000000;">, как показано в листинге 12.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="printperm"></a><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">Л</span><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">истинг 12. Вывод разрешений в символическом и восьмеричном представлениях</span><span style=" font-family:'Times New Roman'; font-size:medium; color:#000000; background-color:#ffffff;"> </span></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" width="100%" cellspacing="0" cellpadding="0" bgcolor="#ffffff">
<tr>
<td bgcolor="#f7f7f7" style=" padding-left:2; padding-right:2; padding-top:2; padding-bottom:5;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000; background-color:#f7f7f7;">[greg@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">find . -name lpi101  -printf &quot;%M %m %f\n&quot;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">drwxrwsr-t 3775 lpi101</span></p></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="6-immutable"></a><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">Н</span><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">еизменяемые файлы</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Режимы доступа и разрешения позволяют осуществлять гибкий контроль за тем, кто и что может делать с файлами и директориями. Тем не менее, они не позволяют избежать, например, непреднамеренного удаления файлов пользователем root. Выходя за рамки темы 104.5, стоит упомянуть о том, что в различных файловых системах существуют дополнительные</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> </span><span style=" font-family:'arial,sans-serif'; font-style:italic; color:#000000;">атрибуты</span><span style=" font-family:'arial,sans-serif'; color:#000000;">, предоставляющие дополнительные возможности. Одним из таких атрибутов является атрибут </span><span style=" font-family:'arial,sans-serif'; font-style:italic; color:#000000;">immutable</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> (неизменяемый). Если этот атрибут установлен, то никто, включая пользователя root, не сможет удалить файл до тех пор, пока атрибут не будет снят.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Чтобы узнать, установлен ли для файла или директории флаг immutable (или любой другой атрибут), используйте команду</span><span style=" font-family:'monospace'; font-size:small; color:#000000;">lsattr</span><span style=" font-family:'arial,sans-serif'; color:#000000;">. Чтобы сделать файл неизменяемым, используйте команду </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">chattr</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> с флагом </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">-i</span><span style=" font-family:'arial,sans-serif'; color:#000000;">.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">В листинге 13 показано, что пользователь root может создать неизменяемый файл, но не может удалить его до тех пор, пока не будет снят флаг immutable.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="listing12"></a><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">Л</span><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">истинг 13. Неизменяемые файлы</span><span style=" font-family:'Times New Roman'; font-size:medium; color:#000000; background-color:#ffffff;"> </span></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" width="100%" cellspacing="0" cellpadding="0" bgcolor="#ffffff">
<tr>
<td bgcolor="#f7f7f7" style=" padding-left:2; padding-right:2; padding-top:2; padding-bottom:5;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000; background-color:#f7f7f7;">                    </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000; background-color:#f7f7f7;">[root@echidna ~]# </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">touch keep.me</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[root@echidna ~]# </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">chattr +i keep.me</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[root@echidna ~]# </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">lsattr keep.me</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">----i--------e- keep.me</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[root@echidna ~]# </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">rm -f keep.me</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">rm: cannot remove `keep.me': Operation not permitted</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[root@echidna ~]# </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">chattr -i keep.me</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[root@echidna ~]# </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">rm -f keep.me</span></p></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Для изменения флага immutable необходимо иметь привилегии пользователя root или, по крайней мере, способность CAP_LINUX_IMMUTABLE. Часто файлы делают неизменяемыми для обеспечения защиты системы или обнаружения попыток вторжения. Для получения дополнительной информации обратитесь к man-странице (</span><span style=" font-family:'monospace'; font-size:small; color:#000000;">man capabilities</span><span style=" font-family:'arial,sans-serif'; color:#000000;">).</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><a href="http://www.ibm.com/developerworks/ru/library/l-lpic1-v3-104-5/index.html?ca=drs-#ibm-pcon"><span style=" font-family:'arial,sans-serif'; font-weight:600; text-decoration: underline; color:#4c6e94;">В начало</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="6-umask"></a><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">М</span><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">аска создания файлов</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Каждый раз при создании нового файла система определяет, какие разрешения должны быть для него установлены. Часто устанавливается режим 0666, который позволяет выполнять чтение и запись файла любому пользователю. Для директорий по умолчанию устанавливается режим 0777. В любом случае установка разрешений управляется значением</span><span style=" font-family:'arial,sans-serif'; font-style:italic; color:#000000;">umask</span><span style=" font-family:'arial,sans-serif'; color:#000000;">, определяющим, какие разрешения пользователь </span><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">не</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> хочет автоматически предоставлять при создании новых файлов или директорий. Система использует значение umask с целью понизить изначально установленные разрешения. Значение параметра umask можно посмотреть с помощью команды </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">umask</span><span style=" font-family:'arial,sans-serif'; color:#000000;">, как показано в листинге 14.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="listing13"></a><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">Л</span><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">истинг 14. Вывод значения параметра umask в восьмеричном формате</span><span style=" font-family:'Times New Roman'; font-size:medium; color:#000000; background-color:#ffffff;"> </span></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" width="100%" cellspacing="0" cellpadding="0" bgcolor="#ffffff">
<tr>
<td bgcolor="#f7f7f7" style=" padding-left:2; padding-right:2; padding-top:2; padding-bottom:5;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000; background-color:#f7f7f7;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">umask</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">0002</span></p></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Помните о том, что umask определяет, какие разрешения</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> </span><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">не</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> должны быть предоставлены. В операционных системах Linux, в которых пользователям не назначаются персональные группы, обычно значением umask является 0022, которое</span><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">снимает</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> с создаваемых файлов разрешения на запись для групп и остальных пользователей. Если пользователям назначаются персональные группы (как, например, в операционной системе Fedora, использующейся в наших примерах), то обычно значением umask является 0002, которое снимает разрешения на запись для остальных пользователей. Чтобы посмотреть значение umask в символическом представлении, т. е. увидеть, какие разрешения</span><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">установлены</span><span style=" font-family:'arial,sans-serif'; color:#000000;">, используйте опцию </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">-S</span><span style=" font-family:'arial,sans-serif'; color:#000000;">.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Для установки значения umask, а также для его просмотра, используется команда</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">umask</span><span style=" font-family:'arial,sans-serif'; color:#000000;">. Итак, если вы желаете обеспечить дополнительную защиту и запретить всей группе или другим пользователям получать доступ к создаваемым вами файлам, то можно использовать значение параметра umask, равное 0077, или установить его в символическом виде с помощью команды </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">umask u=rwx,g=,o=</span><span style=" font-family:'arial,sans-serif'; color:#000000;">, как показано в листинге 15.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="listing14"></a><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">Л</span><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">истинг 15. Установка umask</span><span style=" font-family:'Times New Roman'; font-size:medium; color:#000000; background-color:#ffffff;"> </span></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" width="100%" cellspacing="0" cellpadding="0" bgcolor="#ffffff">
<tr>
<td bgcolor="#f7f7f7" style=" padding-left:2; padding-right:2; padding-top:2; padding-bottom:5;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000; background-color:#f7f7f7;">                    </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000; background-color:#f7f7f7;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">umask -S</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">u=rwx,g=rwx,o=rx</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">umask u=rwx,g=,o=</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">umask</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">0077</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">touch newfile</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">ls -l newfile</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">-rw-------. 1 ian ian 0 Nov 30 15:40 newfile</span></p></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><a href="http://www.ibm.com/developerworks/ru/library/l-lpic1-v3-104-5/index.html?ca=drs-#ibm-pcon"><span style=" font-family:'arial,sans-serif'; font-weight:600; text-decoration: underline; color:#4c6e94;">В начало</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="N1057D"></a><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">У</span><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">становка владельца файла и группы файла</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="7-group"></a><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">Г</span><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">руппа файла</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Для изменения группы файла используйте команду</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">chgrp</span><span style=" font-family:'arial,sans-serif'; color:#000000;">, указав также имя группы и один или несколько имен файлов. Вместо имени группы можно указывать ее номер. Обычный пользователь должен являться владельцем файла, а также быть членом группы, назначаемой файлу. Пользователь root может назначать файлам любые группы. В листинге 16 приведен пример изменения группы файла.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="listing15"></a><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">Л</span><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">истинг 16. Изменение группы файла</span><span style=" font-family:'Times New Roman'; font-size:medium; color:#000000; background-color:#ffffff;"> </span></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" width="100%" cellspacing="0" cellpadding="0" bgcolor="#ffffff">
<tr>
<td bgcolor="#f7f7f7" style=" padding-left:2; padding-right:2; padding-top:2; padding-bottom:5;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000; background-color:#f7f7f7;">                    </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000; background-color:#f7f7f7;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">touch file{1,2}</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">ls -l file*</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">-rw-rw-r--. 1 ian ian 0 Nov 30 15:54 file1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">-rw-rw-r--. 1 ian ian 0 Nov 30 15:54 file2</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">chgrp development file1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">chgrp 505 file2</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">ls -l file*</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">-rw-rw-r--. 1 ian development 0 Nov 30 15:54 file1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">-rw-rw-r--. 1 ian development 0 Nov 30 15:54 file2</span></p></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Как и многие другие команды, рассматриваемые в этом руководстве, команда</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">chgrp</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> имеет опцию </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">-R</span><span style=" font-family:'arial,sans-serif'; color:#000000;">, позволяющую рекурсивно применять изменения ко всем выбранным файлам и поддиректориям.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="7-defaultr"></a><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">Г</span><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">руппа по умолчанию</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">При изучении материала раздела</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> </span><a href="http://www.ibm.com/developerworks/ru/library/l-lpic1-v3-104-5/index.html?ca=drs-#modes"><span style=" font-family:'arial,sans-serif'; text-decoration: underline; color:#4c6e94;">Режимы доступа</span></a><span style=" font-family:'arial,sans-serif'; color:#000000;"> вы узнали, как установка режима sgid для директории влияет на создаваемые в ней файлы, а именно, всем этим файлам назначается группа директории, а не группа создающего их пользователя.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Также мы могли использовать команду</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">newgrp</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> для временного изменения вашей основной группы на другую группу, членом которой вы являетесь. При этом создается новая командная оболочка, и когда вы выходите из нее, ваша группа восстанавливается, как показано в листинге 17.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="listing16"></a><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">Л</span><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">истинг 17. Использование команды newgrp для временного изменения группы по умолчанию</span><span style=" font-family:'Times New Roman'; font-size:medium; color:#000000; background-color:#ffffff;"> </span></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" width="100%" cellspacing="0" cellpadding="0" bgcolor="#ffffff">
<tr>
<td bgcolor="#f7f7f7" style=" padding-left:2; padding-right:2; padding-top:2; padding-bottom:5;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000; background-color:#f7f7f7;">                    </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000; background-color:#f7f7f7;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">groups</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">ian development editor</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">newgrp development</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">groups</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">development ian editor</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">touch file3</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">ls -l file3</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">-rw-r--r--. 1 ian development 0 Nov 30 16:00 file3</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">exit</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">groups</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">ian development editor</span></p></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="7-owner"></a><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">В</span><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">ладелец файла</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Пользователь root может изменять владельцев файлов с помощью команды</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">chown</span><span style=" font-family:'arial,sans-serif'; color:#000000;">. В простейшей форме синтаксис этой команды похож на синтаксис команды </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">chgrp</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> за исключением того, что вместо имени или идентификатора группы используется имя или цифровой идентификатор пользователя. С помощью команды </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">chown</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> можно сразу изменить и группу файла, добавив после имени (или идентификатора) пользователя двоеточие и имя (или идентификатор) группы. Если добавить только двоеточие, то будет использоваться группа пользователя по умолчанию. Как следует ожидать, опция </span><span style=" font-family:'monospace'; font-size:small; color:#000000;">-R</span><span style=" font-family:'arial,sans-serif'; color:#000000;"> позволяет рекурсивно применять все изменения. Пример приведен в листинге 18.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="listing17"></a><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">Л</span><span style=" font-family:'arial,sans-serif'; font-size:medium; font-weight:600; color:#000000; background-color:#ffffff;">истинг 18. Использование команды chown для изменения владельца файла</span><span style=" font-family:'Times New Roman'; font-size:medium; color:#000000; background-color:#ffffff;"> </span></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" width="100%" cellspacing="0" cellpadding="0" bgcolor="#ffffff">
<tr>
<td bgcolor="#f7f7f7" style=" padding-left:2; padding-right:2; padding-top:2; padding-bottom:5;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000; background-color:#f7f7f7;">                    </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000; background-color:#f7f7f7;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">touch file4</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[ian@echidna ~]$ </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">su -</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">Password: </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[root@echidna ~]# </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">ls -l ~ian/file4</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">-rw-rw-r--. 1 ian ian 0 Nov 30 16:04 /home/ian/file4</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[root@echidna ~]# </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">chown greg ~ian/file4</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[root@echidna ~]# </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">ls -l ~ian/file4</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">-rw-rw-r--. 1 greg ian 0 Nov 30 16:04 /home/ian/file4</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[root@echidna ~]# </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">chown tom:gretchen ~ian/file4</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[root@echidna ~]# </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">ls -l ~ian/file4</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">-rw-rw-r--. 1 tom gretchen 0 Nov 30 16:04 /home/ian/file4</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[root@echidna ~]# </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">chown :tom ~ian/file4</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">[root@echidna ~]# </span><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; font-weight:600; color:#000000;">ls -l ~ian/file4</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7f7;"><span style=" font-family:'Andale Mono,Lucida Console,Monaco,Liberation,fixed,monospace'; font-size:medium; color:#000000;">-rw-rw-r--. 1 tom tom 0 Nov 30 16:04 /home/ian/file4</span></p></td></tr></table>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">Существует устаревшая форма указания пользователя и группы, в которой вместо двоеточия используется точка. Не рекомендуется использовать эту форму, поскольку если в именах используется точка, это может привести к путанице.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; color:#000000; background-color:#ffffff;">На этом мы заканчиваем рассмотрение файловых разрешений в Linux.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="resources"></a><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">Р</span><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">есурсы</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'arial,sans-serif'; font-weight:600; color:#000000;">Научиться</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'arial,sans-serif'; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Оригинал статьи: <a href="http://www.ibm.com/developerworks/linux/library/l-lpic1-v3-104-5/?S_TACT=105AGX99&amp;S_CMP=CP"><span style=" text-decoration: underline; color:#4c6e94;">Learn Linux, 101: Manage file permissions and ownership</span></a> (EN). <br /><br /></li>
<li style=" font-family:'arial,sans-serif'; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Используйте <a href="http://www.ibm.com/developerworks/ru/library/l-lpic1-v3-map/"><span style=" text-decoration: underline; color:#4c6e94;">перечень материалов для подготовки к экзаменам LPIC-1</span></a> для поиска статей developerWorks, которые помогут вам подготовиться к сдаче экзаменов программы сертификации LPIC-1, основанной на целях по состоянию на апрель 2009 года. <br /><br /></li>
<li style=" font-family:'arial,sans-serif'; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">На Web-сайте <a href="http://www.lpi.org/eng/certification/the_lpic_program"><span style=" text-decoration: underline; color:#4c6e94;">программы сертификации LPIC</span></a> (EN) вы найдете подробные цели, списки задач и примерные вопросы всех трех уровней сертификации на администратора Linux-систем профессионального института Linux. В частности, на этом сайте представлены цели экзаменов <a href="http://www.lpi.org/eng/certification/the_lpic_program/lpic_1/exam_101_detailed_objectives"><span style=" text-decoration: underline; color:#4c6e94;">LPI 101</span></a> и <a href="http://www.lpi.org/eng/certification/the_lpic_program/lpic_1/exam_102_detailed_objectives"><span style=" text-decoration: underline; color:#4c6e94;">LPI 102</span></a> по состоянию на апрель 2009 года. Всегда обращайтесь к Web-сайту программы сертификации LPIC, чтобы узнать последние цели. <br /><br /></li>
<li style=" font-family:'arial,sans-serif'; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Просмотрите всю <a href="http://www.ibm.com/developerworks/ru/linux/lpi/index.html"><span style=" text-decoration: underline; color:#4c6e94;">серию статей для подготовки к экзаменам института LPI</span></a> на сайте developerWorks, основанных на предыдущих целях, определенных до апреля 2009 года, чтобы изучить основы администрирования Linux и подготовиться к экзаменам для получения сертификата администратора Linux. <br /><br /></li>
<li style=" font-family:'arial,sans-serif'; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Глава <a href="http://www.gnu.org/software/coreutils/manual/html_node/Directory-listing.html#Directory-listing"><span style=" text-decoration: underline; color:#4c6e94;">Directory listing</span></a> (EN) руководства GNU Coreutils описывает все поля, выводимые при просмотре директорий.<br /><br /></li>
<li style=" font-family:'arial,sans-serif'; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Web-сайт <a href="http://www.tldp.org/"><span style=" text-decoration: underline; color:#4c6e94;">Linux Documentation Project</span></a> (EN) содержит большое количество полезной документации, в особенности, HOWTO-руководств. <br /></li></ul></body></html>