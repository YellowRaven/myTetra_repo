<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:10pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:xx-large; font-weight:600; color:#262626;">Windows 7 time off when dual booting Fedora Linux</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial,Helvetica,sans-serif'; color:#222222;">I’m dual booting Linux (Fedora 11 with Gnome) and Windows 7. If I set the time in Windows, then boot into Linux, the time remains correct. When I boot back into Windows, the time is off by a few hours. After some reading, it seems that Linux is using UTC time and Windows is using local time.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial,Helvetica,sans-serif'; color:#222222;">This issue can be fixed by changing either OS, but because the problem seems to be with Windows mishandling UTC time, I chose to correct it there by turning on a feature called RealTimeIsUniversal. When RealTimeIsUniversal is enabled, Windows will treat the Real-Time Clock (RTC) from the motherboard as UTC time.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial,Helvetica,sans-serif'; color:#222222;">Open Regedit, drill down to:<br />HKLM\SYSTEM\CurrentControlSet\Control\TimeZoneInformation<br />and create a new DWORD entry named “RealTimeIsUniversal”. Set the value to 1.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial,Helvetica,sans-serif'; color:#222222;">Shut down Windows and boot Fedora. Set the correct time in Fedora, shutdown, and boot back into Windows. The time should be accurate if you have set your local time to the correct time zone.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial,Helvetica,sans-serif'; color:#222222;">It seems that there are problems with Windows XP and Vista whereby Sleep/Hibernate would cause Windows to revert to local time upon waking/resuming, but apparently this has been resolved in Windows 7.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial,Helvetica,sans-serif'; color:#222222;">If you prefer to change Fedora, go to Date/Time Properties via System &gt; Administration &gt; Date &amp; Time or by opening a terminal and entering:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial,Helvetica,sans-serif'; color:#222222;">system-config-time</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial,Helvetica,sans-serif'; color:#222222;">Under the Time Zone tab, clear the checkbox next to “System clock uses UTC”.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial,Helvetica,sans-serif'; color:#222222;">Under the Network Time Protocol tab, select Enable Network Time Protocol.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial,Helvetica,sans-serif'; color:#222222;">Note that your BIOS has no idea what timezone you are in, that’s up to the OS to figure out. If you check the time in the BIOS, it will likely be a few hours off, and that’s OK.</span></p></body></html>